!function(t,e){"use strict";var r=angular.module("adf.widget.bpmchart",["adf.provider","highcharts-ng"]);r.config(["dashboardProvider",function(t){t.widget("bpmchart",{title:"Pulse Chart",description:"A chart of your pulse change in time",templateUrl:"{widgetsPath}/bpmchart/src/view.html",controller:"bpmchController",controllerAs:"bpmch",reload:!0,edit:{templateUrl:"{widgetsPath}/bpmchart/src/edit.html"}})}]),r.factory("socket",function(){var t=io.connect("http://127.0.1.1:3000");return t}),r.controller("bpmchController",["$scope","$interval","socket",function(t,e,r){r.emit("getBpmChartData",{data:"Give me some pulse chart"}),r.on("bpmchart data",function(e){for(var r=new Array,i=0;i<e.length;i++)if(i%2!=0){var a=1e3*parseInt(e[i-1]/1e3);r.push({x:a,y:parseFloat(e[i])}),console.log(a)}t.chartConfig={options:{chart:{type:"spline",animation:!0,zoomType:"x",renderTo:"container"},plotOptions:{spline:{marker:{enabled:!1},animation:{duration:0},lineColor:"red"},series:{turboThreshold:1e4,animation:!1}}},global:{useUTC:!1},title:{text:"Pulse Chart"},xAxis:{type:"datetime",tickPixelInterval:100},yAxis:{title:{text:"Pulse"},tickPixelInterval:10,max:120,min:40},series:[{name:"Pulse / 5 min",data:r}]},t.$digest()})}]),angular.module("adf.widget.bpmchart").run(["$templateCache",function(t){t.put("{widgetsPath}/bpmchart/src/edit.html","<form role=form><div class=form-group></div></form>"),t.put("{widgetsPath}/bpmchart/src/view.html","<div ng-controller=bpmchController><div ng-if=!chartConfig><h1>Loading...</h1></div><div ng-if=chartConfig><highchart id=chart1 config=chartConfig></highchart></div></div>")}])}(window);
