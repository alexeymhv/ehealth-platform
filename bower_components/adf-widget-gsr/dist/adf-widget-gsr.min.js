!function(t,e){"use strict";var i=angular.module("adf.widget.gsr",["adf.provider","highcharts-ng"]);i.config(["dashboardProvider",function(t){t.widget("gsr",{title:"Galvanic Skin Resistance",description:"This widget shows the electrical resistance of your skin.",templateUrl:"{widgetsPath}/gsr/src/view.html",controller:"gsrController",controllerAs:"gsr",edit:{templateUrl:"{widgetsPath}/gsr/src/edit.html"}})}]),i.factory("socket",function(){var t=io.connect("http://127.0.1.1:3000");return t}),i.controller("gsrController",["$scope","$interval","socket",function(t,e,i){i.emit("getGsrData",{data:"Give me some GSR"}),i.on("gsr data",function(e){for(var i=new Array,r=new Array,a=0;a<e[0].length;a++)if(a%2!=0){var n=1e3*parseInt(e[0][a-1]/1e3);i.push({x:n,y:parseFloat(e[0][a])}),r.push({x:n,y:parseFloat(e[1][a])})}t.chartConfig={options:{chart:{animation:!1,zoomType:"x"},title:{text:"Live GSR"},plotOptions:{line:{marker:{enabled:!1},animation:{duration:0}},series:{turboThreshold:1e4}},xAxis:{type:"datetime",tickPixelInterval:100},yAxis:[{title:{text:"Resistance"},opposite:!0},{title:{text:"Conductance"}}]},series:[{name:"Conductance / usV",yAxis:1,type:"line",data:i},{name:"Resistance / kOhms",type:"line",data:r}]},t.$digest()})}]),angular.module("adf.widget.gsr").run(["$templateCache",function(t){t.put("{widgetsPath}/gsr/src/edit.html","<form role=form><div class=form-group></div></form>"),t.put("{widgetsPath}/gsr/src/view.html","<div ng-controller=gsrController><div ng-if=!chartConfig><h1>Loading...</h1></div><div ng-if=chartConfig><highchart id=chart1 config=chartConfig></highchart></div></div>")}])}(window);